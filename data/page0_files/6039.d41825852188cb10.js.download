!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1b36e804-e44e-40c4-8769-a8e8544e81f8",e._sentryDebugIdIdentifier="sentry-dbid-1b36e804-e44e-40c4-8769-a8e8544e81f8")}catch(e){}}();var _sentryModuleMetadataGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_sentryModuleMetadataGlobal._sentryModuleMetadata=_sentryModuleMetadataGlobal._sentryModuleMetadata||{},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack]=Object.assign({},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack],{"_sentryBundlerPluginAppKey:sentry-js-hh-filter-key":!0});var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"42e37d1eb6bbd151086e91e256d8a2fa28c1c8c8"},(globalThis.__xhh_LOADABLE_LOADED_CHUNKS__=globalThis.__xhh_LOADABLE_LOADED_CHUNKS__||[]).push([["6039"],{92724:function(e,n,t){t.d(n,{s:()=>a});const a=({chatikOrigin:e,chatId:n,hhtmFromLabel:t})=>{const a=new URL(n?`${e}/chat/${n}`:e);return t&&a.searchParams.append("hhtmFromLabel",t),a.toString()}},80092:function(e,n,t){t.d(n,{VL:()=>u,pw:()=>v,uK:()=>y});var a=t(823289),o=t(105160),i=t(837948),s=t(931786),r=t.n(s),c=t(599998),l=t(8131),d=t(504882);let u=function(e){return e.Unknown="unknown",e.LetterRequired="letter-required",e.TestRequired="test-required",e.TestServiceDown="test-service-down",e.NegotiationsLimitExceeded="negotiations-limit-exceeded",e.TooLongLetter="too-long-letter",e.ChangeResumeVisibilityDenied="change-resume-visibility-denied",e.AlreadyApplied="alreadyApplied",e.SpamDetected="SPAM_DETECTED",e.ResourcePolicyViolation="RESOURCE_POLICY_VIOLATION",e.InappropriateLanguage="INAPPROPRIATE_LANGUAGE",e}({});const p={[u.Unknown]:"vacancy.response.popup.unknown.error",[u.LetterRequired]:"vacancy.response.popup.letter.error",[u.TestRequired]:"vacancy.response.popup.test.error",[u.TestServiceDown]:"vacancy.response.popup.testServiceDown.error",[u.NegotiationsLimitExceeded]:"vacancy.response.popup.negotiationsLimitExceeded.error",[u.TooLongLetter]:"vacancy.response.popup.letter.tooLong",[u.ChangeResumeVisibilityDenied]:"vacancy.response.popup.changeResumeVisibilityDenied.error",[u.AlreadyApplied]:"vacancy.response.popup.alreadyApplied.error",[u.SpamDetected]:"vacancy.response.popup.spamDetected",[u.ResourcePolicyViolation]:"vacancy.response.popup.resourcePolicyViolation",[u.InappropriateLanguage]:"vacancy.response.popup.inappropriateLanguage"},m=({trls:e,code:n=u.Unknown,letterMaxLength:t})=>n?(0,d.jsx)(r(),{children:n===u.TooLongLetter?(0,a.Z)(e[p[n]],{"{0}":null!=t?t:0}):e[p[n]]}):null;m.displayName="components/Notifications/VacancyResponseError/VacancyResponseErrorContent";const v=(0,c.x)(m),y=({removeNotification:e,code:n=u.Unknown,letterMaxLength:t})=>(0,d.jsx)(l.P,{removeNotification:e,addon:(0,d.jsx)(i.L1_,{initialColor:"negative"}),onAction:e,"data-qa":"vacancy-response-error-notification",children:(0,d.jsx)(o.x,{style:"contrast",typography:"label-2-regular",children:(0,d.jsx)(v,{code:n,letterMaxLength:t})})});y.displayName="components/Notifications/VacancyResponseError/VacancyResponseErrorNotification"},876140:function(e,n,t){t.d(n,{_:()=>m});var a=t(501824),o=t(596793),i=t.n(o),s=t(105160),r=t(837948),c=t(599998),l=t(8131),d=t(504882);const u="notification.applicant.response.standard.title",p=({trls:e,removeNotification:n,vacancyId:t})=>{const o=(0,a.useElementShown)(i(),{vacancyId:t});return(0,d.jsx)(l.P,{removeNotification:n,addon:(0,d.jsx)(r.lot,{initialColor:"positive"}),onAction:n,"data-qa":"vacancy-response-success-standard-notification",children:(0,d.jsx)("div",{ref:o,children:(0,d.jsx)(s.x,{style:"contrast",typography:"label-2-regular",children:e[u]})})})};p.displayName="components/Notifications/VacancyResponseStandardNotification/VacancyResponseStandardNotificationComponent";const m=(0,c.x)(p)},408673:function(e,n,t){t.d(n,{at:()=>u,gQ:()=>m,oY:()=>p,ub:()=>d});var a=t(986175),o=t(730989),i=t(594948),s=t(468444),r=t(306667);const c="enabled_magritte_backoffice_resume_view",l="enabled_magritte_backoffice_resume_view_v2",d=()=>{const e=(0,i.v)((({userType:e})=>e));return(0,a.useMemo)((()=>({isApplicant:s.F.Applicant===e,isBackOffice:s.F.BackOffice===e})),[e])},u=()=>{const e=(0,i.v)((e=>{var n;return(null===(n=e.applicantResume)||void 0===n||null===(n=n._attributes)||void 0===n?void 0:n.permission)===r.dm})),n=(0,i.v)((({printVersion:e})=>e.isPrintVersion)),t=(0,i.v)((({features:e})=>e[c])),{isApplicant:a,isBackOffice:o}=d();return!(n||!e)&&(!(!o||!t)||!!a)},p=()=>{const e=(0,o.ZP)("applicant_resume_ux_b",!0,!1),n=(0,o.ZP)("applicant_resume_ux_c",!0,!1);return e||n},m=()=>{const e=(0,o.ZP)("applicant_resume_ux_b"),n=(0,o.ZP)("applicant_resume_ux_c"),t=(0,i.v)((e=>{var n;return(null===(n=e.applicantResume)||void 0===n||null===(n=n._attributes)||void 0===n?void 0:n.permission)===r.dm})),a=(0,i.v)((({printVersion:e})=>e.isPrintVersion)),s=(0,i.v)((({features:e})=>e[l])),{isApplicant:c,isBackOffice:u}=d();return a||!t?{isExp:!1,isExpB:!1,isExpC:!1}:u&&s?{isExp:!0,isExpB:!1,isExpC:!0}:c&&(e||n)?{isExp:e||n,isExpB:e,isExpC:n}:{isExp:!1,isExpB:!1,isExpC:!1}}},781943:function(e,n,t){t.d(n,{Z:()=>i});var a=t(504882);const o=({children:e,isShrinked:n})=>{const t=n?"row-content_schrinked":"row-content";return(0,a.jsx)("div",{className:t,children:e})};o.displayName="components/RowContent/index/RowContent";const i=o},1065:function(e,n,t){t.d(n,{M:()=>f});var a=t(501824),o=t.n(a),i=t(823289),s=t(203443),r=t(105160),c=t(599998),l=t(186866),d=t(504882);const u="vacancy.response.popup.inconsistency.title",p="vacancy.response.popup.inconsistency.lang",m={[l.c.Language]:"vacancy.response.popup.inconsistency.language",[l.c.Area]:"vacancy.response.popup.inconsistency.area",[l.c.Distance]:"vacancy.response.popup.inconsistency.distance",[l.c.Experience]:"vacancy.response.popup.inconsistency.experience"},v="resume.title.empty",y=(e,n)=>o().sendHHEventElementShown(e,{name:"vacancy_response_inconsistency",...n}),h=({inconsistencies:e,selectedResumeId:n,resumes:t,vacancyId:o,trls:c})=>{var l,h,f,g;const b=null==e||null===(l=e.resume)||void 0===l?void 0:l.find((e=>String(e.id)===String(n))),_=null==b||null===(h=b.inconsistencies)||void 0===h||null===(h=h.inconsistency)||void 0===h?void 0:h[0];if(null==e||!e.resume||!b||!_)return null;const x=t.find((e=>String(e.id)===String(n)));if(!x)return null;const R=null!==(f=null===(g=x.title[0])||void 0===g?void 0:g.string)&&void 0!==f?f:c[v];return(0,d.jsx)(a.ElementShownAnchor,{fn:y,resumeId:n,vacancyId:o,type:null==_?void 0:_.type,children:(0,d.jsx)(s.j,{title:(0,d.jsx)(r.x,{style:"primary",typography:"title-5-semibold",children:c[u]}),content:(0,d.jsx)(r.x,{typography:"paragraph-2-regular",children:(0,i.Z)(c[m[_.type]],{"{0}":`${_.languageTrl} ${c[p]}`,"{1}":R})}),style:"warning-secondary",showClose:!1,stretched:!0,visible:!0})})};h.displayName="components/VacancyResponseForm/Inconsistencies/InconsistenciesComponent";const f=(0,c.x)(h)},210123:function(e,n,t){t.d(n,{Z:()=>C});var a=t(986175),o=t(596793),i=t.n(o),s=t(754617),r=t.n(s),c=t(311619),l=t.n(c),d=t(17125),u=t.n(d),p=t(418001),m=t.n(p),v=t(811716),y=t(701495),h=t(668710),f=t(659515),g=t(599998),b=t(289686),_=t(504882);const x=b.QZ.VacancyResponseNotification,R="vacancy.view.notify.response.title",S="notification.applicant.job.search.status.afterResponse.subtitle",k="notification.applicant.job.search.status.save",I=({trls:e,removeNotification:n,vacancyId:t})=>{const[o,c]=(0,a.useState)(!0),{addNotification:d}=(0,f.lm)(),p=(0,a.useRef)(null),g=(0,a.useRef)(!1),I=(0,a.useRef)((0,y.E)(b.Nr.AfterVacancyResponse));return(0,a.useEffect)((()=>{p.current&&i()(p.current,{vacancyId:t})}),[t]),(0,a.useEffect)((()=>{const e=I.current;return()=>{g.current||e()}}),[]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(u(),{children:e[R]}),(0,_.jsx)("div",{ref:p,children:e[S]}),(0,_.jsx)(m(),{base:4}),(0,_.jsx)(v.w,{isCompact:!0,statusesList:[b.Lx.ActiveSearch,b.Lx.LookingForOffers],formId:x,setDisabled:c,onSuccess:()=>{g.current=!0,d(h.Z),n(!0)}}),(0,_.jsx)(l(),{children:(0,_.jsx)(r(),{type:s.ButtonType.Submit,kind:s.ButtonKind.Success,form:x,disabled:o,children:e[k]})})]})};I.displayName="components/VacancyResponseForm/JobSearchStatusNotification/JobSearchStatusNotification";const C={Element:(0,g.x)(I),kind:"ok",autoClose:!1}},954102:function(e,n,t){t.d(n,{Z:()=>C});var a=t(823289),o=t(491606),i=t(754617),s=t.n(i),r=t(311619),c=t.n(r),l=t(17125),d=t.n(l),u=t(583668),p=t.n(u),m=t(418001),v=t.n(m),y=t(408673),h=t(599998),f=t(225098),g=t(504882);const b="resume.publish.notify.resumeAutoHide.title",_="vacancy.view.notify.response.title",x="resume.publish.notify.resumeAutoHide.subtitle",R="rb.visibility.autoHideTime.prefix.notification",S={[f.Nw.FiveYears]:"rb.visibility.autoHideTime.suffix.year_5",[f.Nw.ThreeYears]:"rb.visibility.autoHideTime.suffix.year_3",[f.Nw.TwoYears]:"rb.visibility.autoHideTime.suffix.year_2",[f.Nw.TwelveMonths]:"rb.visibility.autoHideTime.suffix.month_12",[f.Nw.TenMonths]:"rb.visibility.autoHideTime.suffix.month_10",[f.Nw.EightMonths]:"rb.visibility.autoHideTime.suffix.month_8"},k="vacancy.view.notify.response.resumeAutoHide.button",I=({trls:e,resumeHash:n,autoHideTime:t=f.Nw.TwelveMonths,isVacancyResponse:r=!0})=>{const l=(0,y.oY)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d(),{children:r?e[_]:e[b]}),(0,g.jsx)(v(),{base:1}),!r&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p(),{children:e[x]}),(0,g.jsx)(v(),{base:5})]}),(0,g.jsx)(p(),{children:(0,a.Z)(e[R],{"{0}":e[S[t]]})}),(0,g.jsx)(v(),{base:2}),(0,g.jsx)(c(),{children:(0,g.jsx)(s(),{Element:o.SPALink,to:l?`/resume/edit/${n}/visibility`:`/resume/${n}?edit=visibility`,appearance:i.ButtonAppearance.Outlined,children:e[k]})})]})};I.displayName="components/VacancyResponseForm/ResumeAutoHideNotification/ResumeAutoHideNotification";const C={Element:(0,h.x)(I),kind:"ok",autoCloseDelay:1e4,autoClose:!0}},704901:function(e,n,t){t.d(n,{_:()=>r});var a=t(771415),o=t(225098);function i(e){return function(e){return Object.values(o.Y0).includes(e)}(e||"")&&e!==o.Y0.Unknown?e:void 0}var s=t(504882);const r=({resume:e})=>{var n,t;const o=null==e||null===(n=e.photoUrls)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.preview;return(0,s.jsx)(a.q,{mode:"image","aria-label":null==e?void 0:e.fio,size:48,image:o,fallbackMode:"placeholder",placeholder:i(null==e||null===(t=e.gender)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.string)})};r.displayName="components/VacancyResponseForm/ResumeAvatar/ResumeAvatar"},852495:function(e,n,t){t.d(n,{r:()=>i});var a=t(720278),o=t(504882);const i=({resume:e})=>{var n;const t=null==e||null===(n=e.salary)||void 0===n?void 0:n[0];return t?(0,o.jsx)(a.Z,{currency:t.currency,children:t.amount}):null};i.displayName="components/VacancyResponseForm/ResumeDetail/ResumeDetail"},193842:function(e,n,t){t.d(n,{s:()=>L});var a=t(501824),o=t.n(a),i=t(454210),s=t.n(i),r=t(98688),c=t.n(r),l=t(136233),d=t.n(l),u=t(876140),p=t(547178),m=t(686396),v=t(520046),y=t(255717),h=t(31062),f=t(210123),g=t(954102),b=t(105160),_=t(837948),x=t(8131),R=t(599998),S=t(504882);const k="vacancy.view.notify.questionResponse.text",I="vacancy.view.notify.action.text",C=({trls:e,openChatik:n,removeNotification:t})=>(0,S.jsx)(x.P,{removeNotification:t,addon:(0,S.jsx)(_.lot,{initialColor:"positive"}),actionLabel:e[I],onAction:()=>{n(),t()},children:(0,S.jsx)(b.x,{style:"contrast",typography:"label-2-regular",children:e[k]})});C.displayName="components/VacancyResponseForm/VacancyQuestionNotification/VacancyQuestionNotificationComponent";const A=(0,R.x)(C),L=({data:e,employerId:n,publishedForResponseResumeHash:t,topLevelSite:a,addNotification:i,isQuestionResponse:r,openChatik:l})=>{const b=()=>{var n,y;const b=Number(e.vacancy_id),_=null==e||null===(n=e.responseStatus)||void 0===n||null===(n=n.shortVacancy)||void 0===n||null===(n=n.area)||void 0===n?void 0:n["@id"];(0,h.y1)(p.Fd,e.vacancy_id)&&d()();const x=(0,h.y1)(p._X,e.vacancy_id);x&&(0,m.CN)(_,b,x,"VACANCY");const R=(0,h.ac)(p.Tj,String(_));R&&(0,m.CN)(_,b,R,"AREA");const S={params:{product_id:b}};s()(S),c()(S),a===v.Dc.RU&&o().addEventPixels("B2C_VACANCY_RESPONSE_COMPLETE");const k=e.respondedWithResume;r?i(A,{props:{openChatik:l}}):k&&t===k.hash&&null!==(y=k.autoHideTime)&&void 0!==y&&y.length?i(g.Z,{props:{resumeHash:t,autoHideTime:k.autoHideTime[0].string}}):e.askJobSearchStatus?i(f.Z,{props:{vacancyId:b},uniqueType:!0}):i(u._,{props:{vacancyId:b}})};!n||t?b():y._i.get("/employer/stats",{params:{employerId:n}}).then(b,b)}},501788:function(e,n,t){t.d(n,{s:()=>pe,O:()=>ce});var a=t(986175),o=t(166688),i=t(608267),s=t(630549),r=t(311491),c=t(55873),l=t(491606),d=t(750128),u=t(66063),p=t(992778),m=t(659515),v=t(80092),y=t(876769),h=t(696397),f=t(594948),g=t(846192),b=t(519261),_=t(323240),x=t(727727),R=t(711410),S=t(241737),k=t(255717),I=t(607611),C=t(268155),A=t(842953),L=t(136361),w=t(626462),E=t(843435),V=t(837948),N=t(92724),j=t(599998),F=t(504882);const P={text:"vacancy.response.alreadyResponded.applied.short",link:"vacancy.response.alreadyResponded.applied.link.short"},T={text:"vacancy.response.alreadyResponded.invitation.short",link:"vacancy.response.alreadyResponded.invitation.link.short"},M="vacancy.view.response.chat",D=({visible:e,topics:n,resumes:t,trls:o,isFromPopup:i})=>{var s;const c=null===(s=(0,a.useContext)(r.KD))||void 0===s?void 0:s.openChatik,d=(0,f.v)((({topLevelDomain:e})=>e||"")),u=(0,f.v)((({chatik:e})=>(null==e?void 0:e.chatikOrigin)||"")),p=n.filter((e=>!!t[e.resumeId]));if(!e||!p.length)return null;const m=p.find((e=>!!e.invited)),v=m||p[0],y=o[m?T.text:P.text],h=o[m?T.link:P.link],g=(0,N.s)({chatId:v.chatId,hhtmFromLabel:"vacancy_response_page",chatikOrigin:u||`https://chatik.${d}`}),b=()=>{"function"==typeof c&&c({chatId:v.chatId,hhtmFromLabel:"vacancy_response_page"})};return(0,F.jsx)(L.Z,{style:"secondary",padding:16,borderRadius:16,stretched:!0,children:(0,F.jsx)(w.b,{left:(0,F.jsx)(V.yM4,{}),right:1===p.length&&v&&c?(0,F.jsx)(A.r,{"data-qa":"open-vacancy-chat",...i?{Element:"a",href:g,target:"_blank"}:{Element:"button",onClick:b},children:o[M]}):(0,F.jsx)(A.r,{"data-qa":"go-to-negotiations",Element:l.SPALink,to:"/applicant/negotiations",children:h}),children:(0,F.jsx)(E.j,{"data-qa":"already-responded-text",children:y})})})};D.displayName="components/VacancyResponseForm/AlreadyRespondedPlate/AlreadyRespondedPlateComponent";const B=(0,j.x)(D);var q=t(1065),O=t(105160),H=t(891368);const $="vacancy.response.popup.letter",W="vacancy.response.popup.letter.requiredDescription",U="vacancy.response.popup.letter.requiredDescription.mobile",Z="vacancy.response.popup.letter.add",Q=({expanded:e,expandLetter:n,value:t,setLetterValue:o,required:i,maxLength:s,isBottomSheet:r,isModal:c,trls:l})=>{const[d,u]=(0,a.useState)(t.length>s);if(!e){return r||c?null:(0,F.jsx)(L.Z,{padding:16,borderRadius:16,stretched:!0,borderWidth:"default","data-qa":"vacancy-response-letter-toggle",onClick:n,children:(0,F.jsx)(w.b,{right:(0,F.jsx)(O.x,{Element:"span",style:"accent",typography:"label-2-regular",children:l[Z]}),children:(0,F.jsx)(O.x,{Element:"span",typography:"label-2-regular",children:l[$]})})})}return(0,F.jsx)(H.K,{value:t,placeholder:l[$],description:i?l[r?U:W]:"",layout:"hug",maxLength:s,invalidLimit:d,"data-qa":"vacancy-response-popup-form-letter-input",onValidate:({invalidLimit:e})=>{u(e)},onChange:e=>{o(e.target.value)}})};Q.displayName="components/VacancyResponseForm/Letter/LetterComponent";const K=(0,j.x)(Q),z="vacancy.response.popup.resumes",Y=({trls:e})=>(0,F.jsx)(O.x,{typography:"title-5-semibold",children:e[z]});Y.displayName="components/VacancyResponseForm/ResumeSelectorTitle/ResumeSelectorTitleComponent";const G=(0,j.x)(Y);var J=t(261028),X=t(221948),ee=t(590863),ne=t(704901),te=t(852495);const ae="vacancy.response.popup.resumes",oe="vacancy.response.popup.hidden.resumes",ie=({trls:e,responseStatus:n,selectedResume:t,resumes:o,setSelectedResume:i})=>{var s;const r=n.hiddenResumeIds.length>0,c=o.length>1,l=null==t||null===(s=t.title)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.string,u=(e,n,a)=>{let o;return c&&(o=e?(0,F.jsx)(V.O0F,{}):(0,F.jsx)(V.Xnh,{})),(0,F.jsx)(L.Z,{ref:a,stretched:!0,borderWidth:"default",padding:16,borderRadius:16,onClick:()=>{c&&"function"==typeof n&&n(!e)},children:(0,F.jsxs)(w.b,{slot:(0,F.jsx)(ne._,{resume:t}),right:o,children:[(0,F.jsx)(E.j,{type:"title",maxLines:2,"data-qa":"resume-title",children:l}),(0,F.jsx)(E.j,{type:"subtitle",maxLines:1,"data-qa":"resume-detail",children:(0,F.jsx)(te.r,{resume:t})})]})})},p=(0,a.useCallback)((e=>{const n=o.find((n=>n.hash===e.value));n&&i(n)}),[o,i]),m=o.map((e=>({value:e.hash,data:e}))),v=(0,J.oQ)(m);return(0,F.jsxs)(d.z,{default:12,children:[r&&(0,F.jsx)(O.x,{typography:"label-3-regular",children:e[oe]}),(()=>{if(!c)return u();const n=({input:e,data:n})=>{var t,a;return(0,F.jsxs)(w.b,{left:e,slot:(0,F.jsx)(ne._,{resume:n.data}),children:[(0,F.jsx)(E.j,{type:"title",maxLines:2,"data-qa":"resume-title",children:null!==(t=null===(a=n.data)||void 0===a||null===(a=a.title)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.string)&&void 0!==t?t:""}),(0,F.jsx)(E.j,{type:"subtitle",maxLines:1,"data-qa":"resume-detail",children:(0,F.jsx)(te.r,{resume:n.data})})]})};return(0,F.jsx)(ee.P,{type:"radio",value:(0,J.j_)(t.hash,m),renderTrigger:({expanded:e,onChange:n,ref:t})=>u(e,n,t),triggerProps:{size:"medium"},renderDesktopItem:n,renderMobileItem:n,widthEqualToActivator:!0,dataProvider:v,onChange:p,renderHeader:({onCloseBottomSheet:n})=>(0,F.jsx)(X.v,{title:e[ae],right:(0,F.jsx)(V.Cs7,{onClick:n})})})})()]})};ie.displayName="components/VacancyResponseForm/ResumeSelectorV2/ResumeSelectorV2Component";const se=(0,j.x)(ie);var re=t(193842);const ce=e=>{if(!e)return[];return[...e.unusedResumeIds||[],...e.hiddenResumeIds||[]].map((n=>e.resumes[n]))},le=(0,c.makeSetStoreField)("applicantActivity"),de=[(0,I.r)({name:"vacancy_response"})],ue="RESPONSE_MODAL_FORM_ID",pe=({vacancyId:e,resumes:n,submitting:t,setSubmitting:c,onResponse:I,errorCode:A,onError:L,responseStep:w,vacancyBodyFooterNodeRef:E,vacancySource:V,needRedirect:N,isFromPopup:j,isModal:P,isBottomSheet:T,isSkipInconsistencies:M,selectedResume:D,setSelectedResume:O,postponedActions:H,render:$=(()=>null),renderContent:W=(()=>null),renderSubmit:U=(()=>null),expandLetter:Z,isLetterExpanded:Q,letterValue:z,setLetterValue:Y,isLetterValueEmpty:J,isLetterRequired:X,letterMaxLength:ee})=>{var ne;const te=(0,i.useDispatch)(),ae=(0,l.usePush)(),oe=null===(ne=(0,a.useContext)(r.KD))||void 0===ne?void 0:ne.openChatik,ie=(0,f.v)((n=>n.applicantVacancyResponseStatuses[e])),ce=(0,f.v)((e=>e.publishedForResponseResumeHash)),pe=(0,f.v)((e=>e.countriesProfileVisibilityAgreement)),me=ie.negotiations.topicList,ve=ie.shortVacancy,ye=ie.usedResumeIds.length>0,{addNotification:he}=(0,m.lm)(),fe=`vacancy_response_letter_${e}`,ge=(0,a.useRef)(null),{hhtmFromLabel:be}=(0,f.v)((({router:e})=>e.location.query)),_e=V===h.H.RelatedVacancies?"suitable_vacancies":void 0,xe=(0,g.rw)();(0,a.useEffect)((()=>{A===v.VL.LetterRequired&&z.trim().length&&L(null)}),[A,z,L]);const Re=e=>{var n;T?null==H||null===(n=H.current)||void 0===n||n.push(e):e()},Se=t=>{if(w&&w!==y.W.Initial)return;if(X&&!z.trim().length)return void L(v.VL.LetterRequired);c(!0),L(null);const a=!(null==t||!t.skipTest),o=new FormData(!a&&ge.current||void 0),i=D.hash,r={vacancy_id:e,resume_hash:i,ignore_postponed:!0,incomplete:D.isIncomplete,mark_applicant_visible_in_vacancy_country:!(null==pe||!pe.confirmed),letter:z,lux:!0,withoutTest:a?"yes":"no",hhtmFromLabel:be,hhtmSourceLabel:_e};Object.keys(r).forEach((e=>{var n;o.append(e,`${null!==(n=r[e])&&void 0!==n?n:""}`)})),k._i.post("/applicant/vacancy_response/popup",o).then((({data:t})=>{var a,o;if(s.Y.removeItem(fe),null==I||I(),"SPAM"===t.topic_id)return;const r=t.chat_id?Number(t.chat_id):void 0,c=[(0,x.Ec)({vacancyId:e,data:t.responseStatus}),(0,R.t5)({vacancyId:e,labels:[S.h.Response]}),le(t.applicantActivity)];t.applicantActivity&&c.push(le(t.applicantActivity));const l={data:t,employerId:null===(a=ve.company)||void 0===a?void 0:a.id,publishedForResponseResumeHash:ce,topLevelSite:xe},d={...l,addNotification:he,openChatik:()=>null==oe?void 0:oe({chatId:r,hhtmFromLabel:"response_notification"})};let p="";if(N){let n="";var m,v;if("responsesStreak"in t)n=`?responsesCount=${null==t||null===(m=t.responsesStreak)||void 0===m?void 0:m.responsesCount}&responsesRequired=${null==t||null===(v=t.responsesStreak)||void 0===v?void 0:v.responsesRequired}`;p=`/vacancy/${e}${n}`}let y=!1,h=!1;var f,g,k;null!==(o=t.requiredAdditionalData)&&void 0!==o&&o.length&&(y=!0,h=!0,c.push((0,b.PW)({vacancyId:e,resumeHash:i,shortVacancy:t.responseStatus.shortVacancy,requiredAdditionalData:t.requiredAdditionalData,postponedResponseNotification:l,postponedRedirectUrl:p,preferredWorkAreas:null!==(f=null==t?void 0:t.preferredWorkAreas)&&void 0!==f?f:[],metroCities:null!==(g=null==t?void 0:t.metroCities)&&void 0!==g?g:[],chatId:null==t?void 0:t.chat_id,resumeFields:null==t?void 0:t.resumeFields,achievementExamples:null!==(k=null==t?void 0:t.achievementExamples)&&void 0!==k?k:[]})));N?(y||(0,re.s)(d),h||ae(p)):"responsesStreak"in t&&(y||(0,re.s)(d),c.push((0,_.q$)({vacancyId:e,data:t.responsesStreak})));const A=n.filter((e=>e.id!==D.id));A.length>0&&O(A[0]),(0,C.BH)("vacancy_response_action"),Re((()=>{te(c)})),N||Re((()=>{return e=E,void setTimeout((()=>{null!=e&&e.current&&(0,u.default)(e.current,{topOffset:0,centered:!1})}),0);var e}))}),(({response:e})=>{var n;const t=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:{},a=t.error||null;return"need-login"===t.type&&"string"==typeof t.redirect_uri?ae(t.redirect_uri):e&&"resume-incomplete"===a&&"string"==typeof t.redirectUrl?ae(t.redirectUrl):L(a||v.VL.Unknown)})).finally((()=>{c(!1)}))},ke=a=>{if(w===y.W.Letter)return(0,F.jsx)(K,{value:z,setLetterValue:Y,required:X,maxLength:ee,isBottomSheet:T,isModal:P,expanded:Q,expandLetter:Z});const o=!T&&n.length>0,i=o&&!P;let s=null;o&&(s=(0,F.jsx)(se,{responseStatus:ie,resumes:n,selectedResume:D,setSelectedResume:O}));const r=!T&&!M;return(0,F.jsxs)(d.z,{default:12,children:[(0,F.jsx)(B,{visible:ye&&!t,topics:me,resumes:ie.resumes,isFromPopup:j}),(0,F.jsxs)(d.z,{default:12,children:[i&&(0,F.jsx)(G,{}),s]}),(0,F.jsx)(K,{value:z,setLetterValue:Y,required:X,maxLength:ee,isBottomSheet:T,isModal:P,expanded:Q,expandLetter:Z}),r&&(0,F.jsx)(q.M,{inconsistencies:ie.resumeInconsistencies,selectedResumeId:D.id,vacancyId:e,resumes:n}),U({form:a})]})};return $({renderForm:()=>(0,F.jsx)(o.l0,{onSubmit:Se,initialValues:{skipTest:!1},decorators:de,render:({handleSubmit:e,form:n})=>(0,F.jsxs)(p.Z,{onSubmit:e,ref:ge,name:"vacancy_response",id:ue,children:[W(n),ke(n)]})}),formId:ue,isLetterTextEmpty:J})};pe.displayName="components/VacancyResponseForm/index/VacancyResponseForm"},431170:function(e,n,t){t.d(n,{ZP:()=>he});var a=t(986175),o=t(608267),i=t(413134),s=t(311491),r=t(55873),c=t(491606),l=t(312596),d=t(247424),u=t(49924),p=t(417448),m=t(66063),v=t(92724),y=t(970525),h=t.n(y),f=t(88274),g=t.n(f),b=t(840533),_=t.n(b),x=t(580356),R=t(118450),S=t(837948),k=t(599998),I=t(594948),C=t(958737),A=t(387502),L=t(504882);const w="employer.misleadingVacancyBanner.banner.title",E={response:"employer.misleadingVacancyBanner.banner.button.response",submit:"employer.misleadingVacancyBanner.banner.button.submit",close:"employer.misleadingVacancyBanner.banner.button.close"},V="employer.misleadingVacancyBanner.banner.content",N=({trls:e,employerId:n,afterSubmit:t,onClose:i,onResponse:s,visible:r,vacancyId:c})=>{const l=(0,o.useDispatch)(),d=(0,I.v)(A.F5),u=()=>{_()({vacancyId:c,alertName:"misleading_employer_alert",buttonText:e[E.close],hhtmSource:"misleading_employer_alert"}),null==i||i()};return(0,a.useEffect)((()=>{r&&g()({vacancyId:c,alertName:"misleading_employer_alert",hhtmSource:"misleading_employer_alert"})}),[r,c]),(0,L.jsx)(x.bZ,{icon:(0,L.jsx)(S.l5_,{}),title:e[w],layout:"vertical",visible:r,onClose:u,iconStyle:"warning",description:e[V],buttons:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R.z,{loading:d,mode:"primary",style:"accent",onClick:()=>{h()({vacancyId:c,alertName:"misleading_employer_alert",buttonText:e[E.submit],hhtmSource:"misleading_employer_alert"}),l((0,C.qW)(n)).then((()=>{null==t||t()}))},children:e[E.submit]}),(0,L.jsx)(R.z,{disabled:d,mode:"secondary",style:"accent",onClick:()=>{h()({vacancyId:c,alertName:"misleading_employer_alert",buttonText:e[E.response],hhtmSource:"misleading_employer_alert"}),null==s||s()},children:e[E.response]}),(0,L.jsx)(R.z,{disabled:d,mode:"tertiary",style:"accent",onClick:u,children:e[E.close]})]})})};N.displayName="src/components/MisleadingVacancyAlert/MisleadingVacancyAlert";const j=(0,k.x)(N);var F=t(659515),P=t(80092),T=t(35972),M=t(501824),D=t.n(M),B=t(501788);var q=t(696397),O=t(231229),H=t(667381),$=t(846192),W=t(719882),U=t(727727),Z=t(239730),Q=t(222156),K=t(90749),z=t(255717),Y=t(380726),G=t(193842),J=t(207175),X=t(519261),ee=t(323240),ne=t(711410),te=t(241737),ae=t(268155);const oe=(0,r.makeSetStoreField)("applicantActivity"),ie=({stayOnPage:e=!0}={})=>{var n;const t=(0,o.useDispatch)(),{addNotification:i}=(0,F.lm)(),r=(0,c.usePush)(),l=(0,I.v)((e=>e.publishedForResponseResumeHash)),d=null===(n=(0,a.useContext)(s.KD))||void 0===n?void 0:n.openChatik,u=(0,I.v)((e=>e.countriesProfileVisibilityAgreement)),p=(0,a.useRef)(u);p.current=u;const m=(0,J.z)(),v=(0,a.useRef)(m);v.current=m;const y=(0,$.rw)();return(0,a.useCallback)((async({letterMaxLength:n,responseStatus:a,employerId:o,openChatikAfterResponse:s,withoutNotification:c,...u})=>{var m,h;let f;t((0,U.Ec)({vacancyId:u.vacancy_id,data:a}));const g=v.current(u.vacancy_id),b=null===(m=p.current)||void 0===m?void 0:m.confirmed,_={...u,lux:!0,ignore_postponed:e,mark_applicant_visible_in_vacancy_country:b};g&&(_.letter=g.value);try{f=await(e=>z._i.postFormData("/applicant/vacancy_response/popup",e))(_)}catch(e){if((0,z.o7)(e)){var x;const a=null===(x=e.response)||void 0===x?void 0:x.data,o=null==a?void 0:a.error;a&&"resume-incomplete"===o&&"redirectUrl"in a?r(a.redirectUrl):(i(P.uK,{props:{code:o,letterMaxLength:n}}),t((0,U._A)({vacancyId:u.vacancy_id,isFetching:!1})))}return}const R=f.data.chat_id?Number(f.data.chat_id):void 0;s&&(null==d||d({chatId:R,firstContact:!0})),t((0,U._A)({vacancyId:u.vacancy_id,isFetching:!1}));const S=[(0,U.Ec)({vacancyId:u.vacancy_id,data:f.data.responseStatus}),(0,ne.t5)({vacancyId:u.vacancy_id,labels:[te.h.Response]})];f.data.applicantActivity&&S.push(oe(f.data.applicantActivity));const k={data:f.data,employerId:o,publishedForResponseResumeHash:l,topLevelSite:y};let I=!1;var C,A,L,w,E,V,N,j,F;null!==(h=f.data.requiredAdditionalData)&&void 0!==h&&h.length&&(I=!0,S.push((0,X.PW)({vacancyId:u.vacancy_id,resumeHash:null!==(C=_.resume_hash)&&void 0!==C?C:"",shortVacancy:f.data.responseStatus.shortVacancy,requiredAdditionalData:f.data.requiredAdditionalData,postponedResponseNotification:k,preferredWorkAreas:null!==(A=null===(L=f.data)||void 0===L?void 0:L.preferredWorkAreas)&&void 0!==A?A:[],metroCities:null!==(w=null===(E=f.data)||void 0===E?void 0:E.metroCities)&&void 0!==w?w:[],chatId:null===(V=f.data)||void 0===V?void 0:V.chat_id,resumeFields:null===(N=f.data)||void 0===N?void 0:N.resumeFields,achievementExamples:null!==(j=null===(F=f.data)||void 0===F?void 0:F.achievementExamples)&&void 0!==j?j:[]})));f.data.responsesStreak&&S.push((0,ee.q$)({vacancyId:u.vacancy_id,data:f.data.responsesStreak})),t(S),c||I||(0,G.s)({...k,addNotification:i,openChatik:()=>null==d?void 0:d({chatId:R,hhtmFromLabel:"response_notification"})}),(0,ae.BH)("vacancy_response_action")}),[t,e,l,y,i,r,d])};let se=function(e){return e.Chat="chat",e}({});const re=(0,r.makeSetStoreField)("relocationWarning"),ce=(0,r.makeSetStoreField)("countriesProfileVisibilityAgreement"),le=(0,r.makeSetStoreField)("vacancyResponsePopup"),de=(0,r.makeSetStoreField)("vacancyResponsePopupVisible"),ue=(0,r.makeSetStoreField)("lastVacancyResponseInfo");let pe=function(e){return e.NeedLogin="need-login",e.NoResumes="no-resumes",e.TestRequired="test-required",e.Reload="reload",e.Modal="modal",e.QuickResponse="quickResponse",e.AlreadyApplied="alreadyApplied",e}({});const me=({handleQuickResponse:e,employerId:n,scrollToFooter:t,responseCallbackRef:a,enableRelocationWarning:o,vrImmediateRedirectUrl:i,openChatikAfterResponse:s,hhtmFromLabel:r,hhtmSourceLabel:c,onResponseComplete:l,onPopupCancelCallback:d,addNotification:p,push:m,payload:v={},misleadingEmployer:y=!1,showMisleadingEmployerAlert:h=(()=>{}),...f})=>i=>{const g=(e,n)=>{var t,s;null!==(t=e.countriesProfileVisibilityAgreement)&&void 0!==t&&t.show?(i(ce(e.countriesProfileVisibilityAgreement)),a&&(a.current=n)):o&&null!==(s=e.relocationWarning)&&void 0!==s&&s.show?(i(re(e.relocationWarning)),a&&(a.current=n)):n()};z._i.get("/applicant/vacancy_response/popup",{params:f}).then((a=>{const o=a.type;i((0,U._A)({vacancyId:f.vacancyId,isFetching:!1}));const l=()=>{g(a,(async()=>{i((0,U._A)({vacancyId:f.vacancyId,isFetching:!0})),await e({employerId:n,openChatikAfterResponse:s,...a.body,...v,hhtmFromLabel:r,hhtmSourceLabel:c,withoutNotification:!p}),!s&&t&&t()}))};switch(o){case pe.NeedLogin:case pe.NoResumes:case pe.TestRequired:g(a,(()=>{m(a.redirect_uri)}));break;case pe.Reload:m(window.location.href);break;case pe.Modal:g(a,(()=>{const e=[];if(a.responseStatus){const n={vacancyId:f.vacancyId,data:a.responseStatus};e.push((0,U.Ec)(n))}e.push(le({...a.responsePopup,onCancelCallback:d})),e.push(de(!0)),a.responsePopup.type===K.k.Normal&&(e.push(ue({letter:a.lastResponseLetter,resumeHash:a.lastResponseResumeHash})),((e,n)=>{if(!n)return;const t=(0,B.O)(n);D().sendHHEvent("element_shown",{elementName:"vacancy_response_bottom_sheet",resumeHash:t[0]._attributes.hash,vacancyId:e})})(f.vacancyId,a.responseStatus)),i(e)}));break;case pe.QuickResponse:y&&!s?null==h||h(l):l();break;case pe.AlreadyApplied:null==p||p(P.uK,{props:{code:P.VL.AlreadyApplied}});break;default:null==p||p(P.uK),u.default.log("out error",new Error("Unknown response type"),{data:a,params:f})}})).catch((()=>{null==p||p(P.uK),i((0,U._A)({vacancyId:f.vacancyId,isFetching:!1}))})).finally((()=>{null==l||l()}))},ve={[se.Chat]:"vacancy.view.response.chat"},ye=({trls:e,render:n,renderResponded:t,vacancyId:r,employerId:u,doResponse:y,vacancyBodyFooterNodeRef:h,scrollToSignupForm:f,enableRelocationWarning:g,hasForceQuickResponse:b,vrImmediateRedirectUrl:_,openChatikAfterResponse:x,vacancySource:R,adVacancyClickUrl:S,vacancyOfTheDayClickUrl:k,onResponseComplete:C,onScrollToSignupForm:A,onPopupCancelCallback:w,place:E,startedWithQuestion:V})=>{var N,P;const M=(0,o.useDispatch)(),{addNotification:D}=(0,F.lm)(),B=(0,c.usePush)(),[K,z]=(0,a.useState)(!1),G=null===(N=(0,a.useContext)(s.KD))||void 0===N?void 0:N.openChatik,J=ie(),X=(0,a.useRef)(null),ee=(0,Z.x)(),[ne,te]=(0,a.useState)(!1),ae=(0,H.B)(r),oe="function"==typeof t,re=(0,a.useMemo)((()=>oe&&(e=>{var n;return null===e?null:{text:se.Chat,chatId:(null===(n=e.lastModifiedTopic)||void 0===n?void 0:n.chatId)||void 0}})(ae)),[oe,ae]),ce=(0,I.v)((e=>e.relocationWarning)),le=(0,I.v)((e=>e.countriesProfileVisibilityAgreement)),de=(0,a.useRef)(null),ue=(0,a.useRef)(!1),{pathname:pe,search:ye}=(0,I.v)((({router:e})=>e.location)),{hhtmFromLabel:he}=(0,I.v)((({router:e})=>e.location.query))||{},fe=(0,I.v)((e=>e.relatedVacancies)),ge=(0,a.useCallback)((()=>{if(R===q.H.RelatedVacancies&&fe.type)return`${fe.type}_vacancies`}),[fe.type,R]),be=(0,$.rw)(),_e=(0,I.v)((({topLevelDomain:e})=>e||"")),xe=(0,I.v)((e=>e.userType)),Re=(0,I.v)((({chatik:e})=>(null==e?void 0:e.chatikOrigin)||"")),Se=(0,a.useCallback)((()=>{null!=h&&h.current&&(0,m.default)(h.current,{topOffset:0,centered:!1})}),[h]),ke=e=>{X.current=e,te(!0)};(0,a.useEffect)((()=>{y&&!ue.current&&(ue.current=!0,M(me({vacancyId:r,startedWithQuestion:V,isTest:"no",withoutTest:"no",lux:!0,handleQuickResponse:J,employerId:u,scrollToFooter:Se,responseCallbackRef:de,enableRelocationWarning:g,hhtmFromLabel:he,onResponseComplete:C,onPopupCancelCallback:w,hhtmSourceLabel:ge(),addNotification:D,push:B,misleadingEmployer:ee,showMisleadingEmployerAlert:ke})))}),[y,u,g,J,he,r,V,ge,C,M,Se,w,D,B,ee]);const Ie=!(null==ae||null===(P=ae.usedResumeIds)||void 0===P||!P.length);(0,a.useEffect)((()=>{ce.confirmed&&de.current&&ce.vacancyId===r&&(de.current(),de.current=null)}),[ce.confirmed,ce.vacancyId,r]),(0,a.useEffect)((()=>{le.confirmed&&de.current&&le.vacancyId===r&&(de.current(),de.current=null)}),[le.confirmed,le.vacancyId,r]);const Ce=(0,W.O)(r),Ae=(0,a.useCallback)((e=>{var n,t;if(Ce(),null===(n=(t=window).txqReachGoal)||void 0===n||n.call(t,"response_hybrid"),_||null==e||e.preventDefault(),(0,p.sendResponseAttempt)({employerId:u,vacancyId:r,hhtmSourceLabel:R===q.H.RelatedVacancies?ge():E,sendExternal:!0,topLevelSite:be,userType:xe}),S&&d.default.get(S),k&&(0,Y.VN)({location:Y.mV.VacancySearchResult,clickUrl:k}),f&&null!=h&&h.current)return K||((0,l.SendKardinalAnalytics)({goal:"response",data:{vacancy_id:r,employer_id:u}}),z(!0)),null==A||A(),void(0,O.pu)(h.current,O.fX);_?(0,T.C)(r):(e&&M((0,U._A)({vacancyId:r,isFetching:!0})),M(me({vacancyId:r,startedWithQuestion:V,isTest:"no",withoutTest:"no",lux:!0,handleQuickResponse:J,employerId:u,scrollToFooter:Se,responseCallbackRef:de,enableRelocationWarning:g,vrImmediateRedirectUrl:_,openChatikAfterResponse:x,hhtmFromLabel:he,onResponseComplete:C,onPopupCancelCallback:w,hhtmSourceLabel:ge(),alreadyApplied:Ie,addNotification:D,push:B,misleadingEmployer:ee,showMisleadingEmployerAlert:ke})))}),[Ce,_,u,r,R,ge,E,be,xe,S,k,f,h,M,V,J,Se,g,x,he,C,w,Ie,D,B,K,A,ee]);return(0,a.useEffect)((()=>{if("true"===new URLSearchParams(window.location.search).get("forceQuickResponse")&&b){const e=(0,i.j)(`${pe}${ye}`),n={...e.params};delete n.forceQuickResponse,e.params=n,window.history.replaceState(window.history.state,document.title,e.href),Ae()}}),[b,r,pe,ye,Ae]),oe&&re?(0,L.jsx)(L.Fragment,{children:t({text:e[ve[re.text]],onClick:()=>G?G({chatId:re.chatId,hhtmFromLabel:E}):window.open((0,v.s)({chatId:re.chatId,hhtmFromLabel:E,chatikOrigin:Re||`https://chatik.${_e}`}))})}):(0,L.jsxs)(L.Fragment,{children:[null==n?void 0:n(Ae),ee&&u&&(0,L.jsx)(j,{vacancyId:`${r}`,employerId:u,visible:ne,onClose:()=>{te(!1)},onResponse:()=>{X.current&&(X.current(),X.current=null),te(!1)},afterSubmit:()=>{te(!1),(0,Q.b)(R)&&B(window.location.href)}})]})};ye.displayName="components/VacancyResponseLink/index/VacancyResponseLink";const he=(0,k.x)(ye)},35972:function(e,n,t){t.d(n,{C:()=>I,J:()=>N});var a=t(986175),o=t(501824),i=t.n(o),s=t(970525),r=t.n(s),c=t(88274),l=t.n(c),d=t(840533),u=t.n(d),p=t(454210),m=t.n(p),v=t(98688),y=t.n(v),h=t(580356),f=t(118450),g=t(837948),b=t(312596),_=t(49924),x=t(599998),R=t(594948),S=t(846192),k=t(504882);const I=e=>{(0,b.default)({data:{goal:"vacancy-response-company-url"}}).catch(console.error);const n={params:{product_id:e}};m()(n),y()(n)},C="vacancy.advertising.title",A="vacancy.advertising.text",L="vacancy.advertising.goforward",w="vacancy.advertising.cancel",E="vacancy_response_vr_alert",V=({visible:e,onClose:n,trls:t})=>{const o=(0,R.v)((e=>{var n,t;return null!==(n=null===(t=e.vacancyResponsePopup)||void 0===t||null===(t=t.vacancy)||void 0===t?void 0:t.vacancyId)&&void 0!==n?n:0})),s=(0,R.v)((e=>{var n,t;return null!==(n=null===(t=e.vacancyResponsePopup)||void 0===t||null===(t=t.vacancy)||void 0===t?void 0:t.companyUrl)&&void 0!==n?n:""})),c=t[L],d=t[w],p=(0,S.Xl)();if((0,a.useEffect)((()=>{e&&Boolean(o)&&Boolean(s)&&l()({vacancyId:`${o}`,alertName:E,hhtmSource:E})}),[e,o,s]),!s)return _.default.log("out error",new Error("Advertising vacancy without companyUrl"),{id:o}),null;const m=()=>{n(!0)};return(0,k.jsx)(h.bZ,{visible:e,title:t[C],description:t[A],layout:"vertical",icon:(0,k.jsx)(g.I6K,{}),buttons:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.z,{Element:"a",rel:"nofollow",href:s,mode:"primary",style:"accent","data-qa":"vacancy-response-link-advertising",onClick:()=>{r()({buttonText:c,vacancyId:`${o}`,alertName:E,hhtmSource:E}),I(o),p&&i().addEventPixels("B2C_VACANCY_RESPONSE_COMPLETE")},children:c}),(0,k.jsx)(f.z,{mode:"secondary",style:"accent","data-qa":"vacancy-response-link-advertising-cancel",onClick:()=>{u()({buttonText:d,vacancyId:`${o}`,alertName:E,hhtmSource:E}),m()},children:d})]}),onClose:m})};V.displayName="components/VacancyResponsePopup/AdvertisingPopup/AdvertisingPopupComponent";const N=(0,x.x)(V)},876769:function(e,n,t){t.d(n,{W:()=>a});let a=function(e){return e.Initial="Initial",e.ResumeSelect="ResumeSelect",e.Letter="Letter",e.Done="Done",e}({})},696397:function(e,n,t){t.d(n,{H:()=>a});var a=function(e){return e.RelatedVacancies="related_vacancies_on_vacancy_page",e.VacancySearch="vacancies",e.VacancySearchMap="vacancies_on_search_map",e.ApplicantNegotiations="applicant_negotiations",e.RecommendedVacanciesOnMain="recommended_vacancies_on_main",e.SearchPresetVacanciesOnMain="search_presets_vacancies_on_main",e.EmployerRelatedVacancies="related_employer_vacancies_on_vacancy_page",e.VacanciesOfTheDay="vacancies_of_the_day",e.EmployerVacancy="employer_vacancy",e.IndexAnonymous="index_anonymous",e.EmployerVacancySearch="employer_vacancy_search",e}(a||{})},69843:function(e,n,t){t.d(n,{$:()=>I,Z:()=>x});var a=t(986175),o=t(793844),i=t.n(o),s=t(491606),r=t(36074),c=t(118450),l=t(754617),d=t.n(l),u=t(526707),p=t.n(u),m=t(465877),v=t.n(m),y=t(431170),h=t(599998),f=t(594948),g=t(468444),b=t(231229),_=t(504882);let x=function(e){return e.Main="main",e.AfterBody="afterBody",e.ResponseSummary="responseSummary",e.VideoVacancy="videoVacancy",e.Notification="notification",e}({});const R="button.placeResponse",S={[x.Main]:"vacancy_top_button",[x.AfterBody]:"vacancy_bottom_button",[x.ResponseSummary]:"vacancy_response_summary",[x.VideoVacancy]:"vacancy_video_vacancy_modal",[x.Notification]:"vacancy_notification"},k=({trls:e,vacancyBodyFooterNodeRef:n,resumeFormNodeRef:t,hasForceQuickResponse:o=!1,isSecondary:h=!1,responseButtonProps:k,hideResponded:I=!1,RespondedNode:C=d(),kind:A,forceFullSize:L,onResponseComplete:w,isRedesign:E,isMagritteOnVacancyResponseExp:V=!1,isMagritteVacancy:N,noMargin:j,renderCustomWrapper:F,onScrollToSignupForm:P,onPopupCancelCallback:T,onRespondClick:M})=>{var D,B,q;const O=(0,f.v)((e=>e.vacancyView)),H=(0,f.v)((e=>e.vacancyView.contactInfo)),$=(0,f.v)((e=>e.vacancyView.vacancyId)),W=(0,f.v)((e=>{var n;return null===(n=e.vacancyView.company)||void 0===n?void 0:n.id})),U=(0,f.v)((e=>e.vacancyView.showSignupForm)),Z=(0,f.v)((e=>e.vacancyView.isBrandingPreview)),Q=(0,f.v)((e=>O.vacancyId?e.applicantVacancyResponseStatuses[O.vacancyId]:void 0)),K=Boolean(Q&&Object.keys(Q).length>1),z=(0,f.v)((e=>e.userType)),Y=!(null===(D=O.responseInfo)||void 0===D||!D.doResponse),G=!(null===(B=O.responseInfo)||void 0===B||!B.showResponse),{shortResume:J}=(0,f.v)((({router:e})=>e.location.query)),X=v()()===m.Breakpoint.XS,ee=H&&!(z===g.F.Anonymous&&X)||Z,ne=Boolean(null==Q||null===(q=Q.usedResumeIds)||void 0===q?void 0:q.length),{isMobile:te}=(0,r.G)(),ae=(0,a.useCallback)((()=>{null!=t&&t.current&&(0,b.pu)(t.current,b.$0)}),[t]),oe=(0,a.useCallback)((()=>{null!=n&&n.current&&(0,b.pu)(n.current,b.$0)}),[n]);(0,a.useEffect)((()=>(null!=t&&t.current&&J?window.addEventListener("load",ae):null!=n&&n.current&&G&&window.addEventListener("load",oe),()=>{window.removeEventListener("load",ae),window.removeEventListener("load",oe)})),[t,J,ae,G,n,oe]);const ie=e=>{if(F)return F(e);const n=L||!(N&&ne)&&ee&&A===x.Main;return(0,_.jsx)("div",{className:i()("vacancy-action",{"vacancy-action_full-size":n,"vacancy-action_full-size-redesigned":E&&n,"vacancy-action_stretched":!L&&!ee&&A===x.Main,"vacancy-action_stretched-redesigned":E,"vacancy-action_after-body":A!==x.Main&&A!==x.Notification,"vacancy-action_after-body-no-margin":j||V,"vacancy-action__no-margin":j}),children:e})};if(Z)return ie((0,_.jsx)(d(),{type:l.ButtonType.Button,scale:l.ButtonScale.Large,disabled:!0,kind:l.ButtonKind.Success,stretched:!0,children:e[R]}));if(!$)return null;if(z===g.F.Applicant&&!K)return null;const se=(e,n)=>{e.preventDefault(),null==M||M(),n(e)};return ie((0,_.jsx)(y.ZP,{vacancyId:$,employerId:W,doResponse:!h&&Y,hasForceQuickResponse:o,render:n=>{const t=`/applicant/vacancy_response?vacancyId=${$||""}${W?`&employerId=${W}`:""}`,a=null==Q?void 0:Q.isFetching;return N?(0,_.jsx)(c.z,{size:!te||h||L?"medium":"small",style:"accent",mode:"primary",stretched:!0,Element:s.SPALink,to:t,rel:"nofollow",onClick:e=>se(e,n),loading:a,disabled:!(null==Q||!Q.isFetching),"data-qa":"vacancy-response-link-top",children:e[R]}):(0,_.jsx)(d(),{stretched:!0,scale:E?l.ButtonScale.Large:void 0,Element:s.SPALink,rel:"nofollow",to:t,"data-qa":"vacancy-response-link-top",loading:a&&(0,_.jsx)(p(),{initial:u.LoadingColor.White,scale:u.LoadingScale.Small}),disabled:!(null==Q||!Q.isFetching),onClick:e=>se(e,n),kind:l.ButtonKind.Success,...k,children:e[R]})},renderResponded:({text:e,onClick:n})=>{if(I)return null;const t="vacancy-response-link-view-topic";return N?(0,_.jsx)(c.z,{mode:"secondary",style:"accent",size:te&&!h?"small":"medium",stretched:!0,onClick:n,"data-qa":t,children:e}):(0,_.jsx)(C,{Element:"button",scale:E?l.ButtonScale.Large:void 0,kind:E||A===x.VideoVacancy?l.ButtonKind.Success:void 0,onClick:n,"data-qa":t,...C===d()&&{stretched:!0},...k||{appearance:l.ButtonAppearance.Outlined},children:e})},scrollToSignupForm:U,vacancyBodyFooterNodeRef:n,enableRelocationWarning:!0,onResponseComplete:w,onScrollToSignupForm:P,onPopupCancelCallback:T,place:A&&S[A]}))};k.displayName="components/VacancyView/VacancyActionResponse/VacancyActionResponseComponent";const I=(0,h.x)(k)},545293:function(e,n,t){t.d(n,{BU:()=>o,Fq:()=>c,M9:()=>s,kc:()=>i,sQ:()=>r});var a=t(255717);const o=e=>a._i.postFormData("/applicant/blacklist/vacancy/add",{vacancyId:e}),i=e=>a._i.postFormData("/applicant/blacklist/vacancy/remove",{delId:e}),s=e=>a._i.postFormData("/applicant/blacklist/employer/add",{employerId:e}),r=e=>a._i.postFormData("/applicant/blacklist/employer/remove",{delId:e}),c=(e,n,t)=>a._i.get("/applicant/blacklist/state",{params:{vacancyId:e,employerId:n},signal:t})},207175:function(e,n,t){t.d(n,{O:()=>l,z:()=>d});var a=t(986175),o=t(630549),i=t(594948),s=t(232080);const r="vacancy_response_questions_store",c={},l=({vacancyId:e,question:n,questionId:t,dispatch:a})=>{const i={id:t,value:n};o.Y.setItem(`${r}_${e}`,JSON.stringify(i)),a((0,s.Yi)({[String(e)]:i}))},d=()=>{const e=(0,i.v)((e=>e.vacancyResponseQuestions));return(0,a.useCallback)((n=>e[String(n)]||(e=>{if(void 0===e)return null;if(e in c)return c[e];const n=o.Y.getItem(`${r}_${e}`);let t=null;if(n)try{t=JSON.parse(n)}catch(e){}return c[e]=t,t})(n)),[e])}},231229:function(e,n,t){t.d(n,{$0:()=>o,fX:()=>i,pu:()=>s});var a=t(66063);const o="vacancy-resume-form_attention",i="signup-wrapper_attention",s=(e,n)=>{(0,a.default)(e,{topOffset:0,centered:!1,animationEndCallback(){e.classList.remove(n),window.requestAnimationFrame((()=>{e.classList.add(n)}))}})}},667381:function(e,n,t){t.d(n,{B:()=>o});var a=t(594948);const o=e=>{var n;const t=(0,a.v)((e=>e.applicantVacancyResponseStatuses));if(!e)return null;const o=t[e];if(!o||0===(null===(n=o.usedResumeIds)||void 0===n?void 0:n.length)||null==o||!o.negotiations)return null;const{negotiations:i,usedResumeIds:s}=o,r=[],c=[],l=[],d=[];for(const e of i.topicList){const{id:n,chatId:t,responded:a,invited:o,discarded:i,declinedByApplicant:s}=e,u={topicId:n,chatId:t};a&&r.push(u),o&&c.push(u),i&&(s?d.push(u):l.push(u))}const u=i.topicList.reduce(((e,n)=>n.lastModifiedMillis>e.lastModifiedMillis?n:e));return{lastModifiedTopic:{topicId:u.id,chatId:u.chatId},responded:r,invited:c,discardedByEmployer:l,discardedByApplicant:d,usedResumeIds:s}}},719882:function(e,n,t){t.d(n,{O:()=>i});var a=t(986175),o=t(255717);const i=e=>(0,a.useCallback)((async()=>{try{await o._i.post("/shards/vacancy/register_interaction",{vacancyId:e})}catch(e){console.error(e)}}),[e])},417448:function(e,n,t){t.r(n),t.d(n,{sendResponseAttempt:()=>l});var a=t(501824),o=t.n(a),i=t(823360),s=t.n(i),r=t(520046),c=t(468444);const l=({employerId:e,vacancyId:n,hhtmSourceLabel:t,sendExternal:a=!1,topLevelSite:i,userType:l})=>{if(o().sendHHEvent("responseAttempt",{vacancyId:Number(n),employerId:Number(e)||null,hhtmSourceLabel:t}),a&&i&&l){const e=l===c.F.Applicant?"applicant":"anonymous";s()({category:e,params:{product_id:n}}),i===r.Dc.RU&&o().addEventPixels("B2C_VACANCY_RESPONSE_CLICK")}}},958737:function(e,n,t){t.d(n,{Dl:()=>r,ZE:()=>c,qB:()=>s,qW:()=>l});var a=t(545293),o=t(387502),i=t(20327);const s=e=>n=>{n((0,i.mc)(e)),n((0,i.og)(!0))},r=()=>e=>{e((0,i.og)(!1))},c=()=>async(e,n)=>{const t=(0,o.vx)(n());if(t){e((0,i.nW)(!0));try{await(0,a.M9)(t),e((0,i.og)(!1)),e((0,i.Ly)("success"))}catch(n){e((0,i.Ly)("error"))}finally{e((0,i.nW)(!1))}}else e((0,i.og)(!1))},l=e=>async n=>{if(e){n((0,i.nW)(!0));try{await(0,a.M9)(e),n((0,i.Ly)("success"))}catch(e){n((0,i.Ly)("error"))}finally{n((0,i.nW)(!1))}}}},239730:function(e,n,t){t.d(n,{x:()=>o});var a=t(593384);const o=()=>{const e=(0,a.l)();return(null==e?void 0:e.misleadingVacancyAlert)||!1}},387502:function(e,n,t){t.d(n,{F5:()=>i,OH:()=>a,Xy:()=>c,Yl:()=>r,eL:()=>s,vx:()=>o});const a=({misleadingVacancyAlert:e})=>{var n;return(null==e||null===(n=e.modal)||void 0===n?void 0:n.visibility)||!1},o=({misleadingVacancyAlert:e})=>e.employerId,i=({misleadingVacancyAlert:e})=>e.savingToBlackList,s=({misleadingVacancyAlert:e})=>e.snackbar,r=({vacancyView:e})=>{var n;return(null==e||null===(n=e.company)||void 0===n||null===(n=n.employersNegativeAttribute)||void 0===n?void 0:n.misleadingVacancyAlert)||!1},c=({vacancyView:e})=>e.vacancyId},222156:function(e,n,t){t.d(n,{b:()=>o});var a=t(696397);const o=e=>e===a.H.RecommendedVacanciesOnMain||e===a.H.VacancySearch},593384:function(e,n,t){t.d(n,{J:()=>r,l:()=>s});var a=t(986175),o=t(504882);const i=(0,a.createContext)({}),s=()=>(0,a.useContext)(i),r=({children:e,value:n})=>(0,o.jsx)(i.Provider,{value:n||{},children:e});r.displayName="models/employersNegativeAttributes/provider/EmployersNegativeAttributesProvider"},90749:function(e,n,t){t.d(n,{k:()=>a});var a=function(e){return e.Advertising="advertising",e.Normal="normal",e}(a||{})},241737:function(e,n,t){t.d(n,{h:()=>a});var a=function(e){return e.Favorite="FAVORITE",e.Response="RESPONSE",e.Invite="INVITE",e.DiscardByEmployer="DISCARD",e.DiscardByApplicant="DISCARD_BY_APPLICANT",e}(a||{})},607611:function(e,n,t){t.d(n,{c:()=>i,r:()=>s});var a=t(695142),o=t(185813);const i=({name:e,errors:n,scrollOffset:t=20})=>{if(!n||!Object.keys(n).length)return;const i=document.forms.namedItem(e);if(!i)return;const s=[...i.querySelectorAll("[data-form-error-name]"),...i.elements].find((e=>{const t=e,o=t.getAttribute("data-form-error-name")||t.getAttribute("name");return o&&(0,a.u9)(n,o)&&t.offsetWidth}))||document.querySelector('[data-form-error="true"]');if(!s)return;const r=s.getBoundingClientRect().top-document.body.getBoundingClientRect().top-t;(0,o.default)({top:r})},s=({name:e})=>n=>{let t={};const a=n.subscribe((e=>{const n=e.submitErrors&&"string"!=typeof e.submitErrors?e.submitErrors:{};t={...e.errors,...n}}),{errors:!0,submitErrors:!0}),o=n.submit;return n.submit=()=>{const a=o.call(n)||Promise.resolve(void 0);return a.then((()=>setTimeout((()=>i({name:e,errors:t})),250))),a},()=>{a(),n.submit=o}}}}]);
//# sourceMappingURL=6039.d41825852188cb10.js.map